<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Location Logga</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Configuration for dashboard - edit here -->
  <script>

    /*
      ONLY UPDATE THIS SECTION
    */
    const locationA = "Oxnard";
    const locationB = "UCSB";

    const bucketPartA = "550forestparkblvdoxnardca93036usa";
    const bucketPartB = "santabarbaraca93106usa";

    // Check to make sure the data source is valid!
    const lookBack_dataURI_AtoB = `https://storage.googleapis.com/location-logger-bucket/${bucketPartA}-${bucketPartB}/30day-lookback.json`;
    const lookBack_dataURI_BtoA = `https://storage.googleapis.com/location-logger-bucket/${bucketPartB}-${bucketPartA}/30day-lookback.json`;

    const dowAvg_dataURI_AtoB = `https://storage.googleapis.com/location-logger-bucket/${bucketPartA}-${bucketPartB}/90day-rolling-hourly-dow-avg.json`;
    const dowAvg_dataURI_BtoA = `https://storage.googleapis.com/location-logger-bucket/${bucketPartB}-${bucketPartA}/90day-rolling-hourly-dow-avg.json`;
  </script>

</head>

<!-- Do not touch this section! -->

<body>
  <main class="container">
    <!-- Content will be injected here -->
  </main>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

  <script src="./scripts/utils.js"></script>
  <script src="./scripts/footer.js"></script>

  <!-- Core chart drawing/data processing stuff -->
  <script src="./scripts/drawChart.js"></script>
  <script src="./scripts/processData.js"></script>

  <!-- Provides rendering / calculation specific to 30 day lookback -->
  <script src="./scripts/bodySegmentLookback.js"></script>
  <script src="./scripts/lookback.js"></script>

  <!-- Main calling script -->
  <script src="./scripts/main.js"></script>

  <!-- Actual template load (relies on above constants) -->
  <script>
        // Attempt to render once the DOM is loaded.
    window.addEventListener('DOMContentLoaded', async (event) => {
      console.log('DOM fully loaded and parsed');

      await renderTemplatePage(document, locationA, locationB,
        lookBack_dataURI_AtoB, lookBack_dataURI_BtoA,
        dowAvg_dataURI_AtoB, dowAvg_dataURI_BtoA);
    });
  </script>
</body>

</html>